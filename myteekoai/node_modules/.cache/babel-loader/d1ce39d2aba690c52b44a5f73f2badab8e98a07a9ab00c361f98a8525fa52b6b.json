{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_BACKEND_URL || 'http://127.0.0.1:8000'; // Default to localhost\n\nconst axiosInstance = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 30000 // 10 seconds timeout\n});\n\n// Handle API errors\nconst handleApiError = error => {\n  var _error$response, _error$response$data;\n  const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'An error occurred while communicating with the server.';\n  return new Error(errorMessage);\n};\n\n// API Methods\nexport const getGameState = async () => {\n  try {\n    const response = await axiosInstance.get('/');\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const aiMove = async () => {\n  try {\n    const response = await axiosInstance.post('/ai-move/');\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const opponentMove = async move => {\n  try {\n    const response = await axiosInstance.post('/opponent-move/', {\n      move\n    });\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const resetGame = async () => {\n  try {\n    const response = await axiosInstance.post('/reset/');\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};\nexport const setDifficulty = async difficulty => {\n  try {\n    const response = await axiosInstance.post('/set-difficulty/', {\n      difficulty\n    });\n    return response.data;\n  } catch (error) {\n    throw handleApiError(error);\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_BACKEND_URL","axiosInstance","create","baseURL","headers","timeout","handleApiError","error","_error$response","_error$response$data","errorMessage","response","data","detail","Error","getGameState","get","aiMove","post","opponentMove","move","resetGame","setDifficulty","difficulty"],"sources":["C:/Users/risha/PycharmProjects/hw9/myteekoai/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_BACKEND_URL || 'http://127.0.0.1:8000'; // Default to localhost\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    timeout: 30000, // 10 seconds timeout\r\n});\r\n\r\n// Handle API errors\r\nconst handleApiError = (error) => {\r\n    const errorMessage = error.response?.data?.detail || 'An error occurred while communicating with the server.';\r\n    return new Error(errorMessage);\r\n};\r\n\r\n// API Methods\r\nexport const getGameState = async () => {\r\n    try {\r\n        const response = await axiosInstance.get('/');\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const aiMove = async () => {\r\n    try {\r\n        const response = await axiosInstance.post('/ai-move/');\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const opponentMove = async (move) => {\r\n    try {\r\n        const response = await axiosInstance.post('/opponent-move/', { move });\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const resetGame = async () => {\r\n    try {\r\n        const response = await axiosInstance.post('/reset/');\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n\r\nexport const setDifficulty = async (difficulty) => {\r\n    try {\r\n        const response = await axiosInstance.post('/set-difficulty/', { difficulty });\r\n        return response.data;\r\n    } catch (error) {\r\n        throw handleApiError(error);\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,IAAI,uBAAuB,CAAC,CAAC;;AAE9E,MAAMC,aAAa,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC/BC,OAAO,EAAEN,OAAO;EAChBO,OAAO,EAAE;IACL,cAAc,EAAE;EACpB,CAAC;EACDC,OAAO,EAAE,KAAK,CAAE;AACpB,CAAC,CAAC;;AAEF;AACA,MAAMC,cAAc,GAAIC,KAAK,IAAK;EAAA,IAAAC,eAAA,EAAAC,oBAAA;EAC9B,MAAMC,YAAY,GAAG,EAAAF,eAAA,GAAAD,KAAK,CAACI,QAAQ,cAAAH,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBI,IAAI,cAAAH,oBAAA,uBAApBA,oBAAA,CAAsBI,MAAM,KAAI,wDAAwD;EAC7G,OAAO,IAAIC,KAAK,CAACJ,YAAY,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMK,YAAY,GAAG,MAAAA,CAAA,KAAY;EACpC,IAAI;IACA,MAAMJ,QAAQ,GAAG,MAAMV,aAAa,CAACe,GAAG,CAAC,GAAG,CAAC;IAC7C,OAAOL,QAAQ,CAACC,IAAI;EACxB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZ,MAAMD,cAAc,CAACC,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMU,MAAM,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAMV,aAAa,CAACiB,IAAI,CAAC,WAAW,CAAC;IACtD,OAAOP,QAAQ,CAACC,IAAI;EACxB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZ,MAAMD,cAAc,CAACC,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMY,YAAY,GAAG,MAAOC,IAAI,IAAK;EACxC,IAAI;IACA,MAAMT,QAAQ,GAAG,MAAMV,aAAa,CAACiB,IAAI,CAAC,iBAAiB,EAAE;MAAEE;IAAK,CAAC,CAAC;IACtE,OAAOT,QAAQ,CAACC,IAAI;EACxB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZ,MAAMD,cAAc,CAACC,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMc,SAAS,GAAG,MAAAA,CAAA,KAAY;EACjC,IAAI;IACA,MAAMV,QAAQ,GAAG,MAAMV,aAAa,CAACiB,IAAI,CAAC,SAAS,CAAC;IACpD,OAAOP,QAAQ,CAACC,IAAI;EACxB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZ,MAAMD,cAAc,CAACC,KAAK,CAAC;EAC/B;AACJ,CAAC;AAED,OAAO,MAAMe,aAAa,GAAG,MAAOC,UAAU,IAAK;EAC/C,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMV,aAAa,CAACiB,IAAI,CAAC,kBAAkB,EAAE;MAAEK;IAAW,CAAC,CAAC;IAC7E,OAAOZ,QAAQ,CAACC,IAAI;EACxB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZ,MAAMD,cAAc,CAACC,KAAK,CAAC;EAC/B;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}